Just jumped on to add the list of actors and saw that you had uploaded the use case diagrams already! They look on point to what we had discussed today! Awesome job!

Have a great 4th of July, and see you guys next week.

-Mitch

I just tried it and and it let me do it on my laptop.
CJ

Everything looks good so far. Do we want to make a link between the Admin and the Quote system? 
"there will be an administrative interface to maintain sales associate and quote information"
Also, how about a link between the Admin and a query quotes?
"It also allows to search and view quotes based on status (finalized, sanctioned, ordered), date range, sales associate, and customer."

Enjoy the long weekend
CJ

An other thing to look at as well is how specific we want the "use cases" to be. Say for example the edit quote use case. 
Do we want to leave it at edit quotes or break it down to the each individual options?
JA

Hey guys, I'll be working on the use case tomorrow and Saturday cause I'll finally have some downtime to sit down and knock it out. Have a great weekend guys.

-MM

I just uploaded the Admin use case. Let me know if you think I made it to detailed. Also I was wondering do we go to end when we are done with a search or do we have them go back to a main menu and then logout takes them to the end?
CJ

I just uploaded the files for sanctioning a quote. Please let me know if it makes sense, or if you would like to see any modifications made. I tried to keep it relatively straight to the point. I will go ahead and do the quote to purchase order tomorrow since that is pretty straight forward.

CJ I just checked out yours and it looks good (you must have used visio hahaha!) I think we could prompt the user to search again or return to the menu if no other searches are needed. Whatever you guys think makes sense.

-MM

Still running into an error on the pricing. Uploaded the latest files. I'm going to try to work on this tonight if I can
get some downtime at work.

-MM

Morning guys,
Just got done looking over both the diagrams.They look good. I did have a couple things
Admin diagram:
Yeah I agree we should have it go back to a main menu at the end of each task and have a logout option there instead of ending the system.
I noticed in a couple location it has a decision go to an other decision. I wonder if a merge my be a better reprensentation of what is happening at that point.

Sanction diagram:
It starts with the associate entering the quote number. How does the associate get the number? Would it be better if the system displayed the current finailized quote for the associate to choose from.
At "System prompts for user confirmation" you have 2 arrow coming out.  We should probably have just one arrow that come out to a decision
Also at the end at "Prompt user enter a new quote number or exit" you have it going to just end. Probably should have a decision that goes back up to the "Sales Associate enters quote number" and to "exit"

-JA

Hey guys,

I updated the sanction quote diagram and use case to make it more streamlined. Thank you for the suggestions John. Let me know if it makes more sense now.

Also, the quote to purchase order use case and diagram has been completed and uploaded. It is pretty straightforward. Let me know what you guys think.

Hope you guys are having a great weekend,

-MM

I have updated the Admin folder and have added the Actor table.
CJ

Awesome! Thanks CJ!

I have updated both the sanction and quote->po use cases and diagrams. In the sanction diagram I only did "edit" since adding lines, removing lines, discounts and notes would be considered "text edits" in my opinion. I broke it down even further with decision tress, but simplified the whole process. Mainly based off of our in class example. Let me know what you think if it makes sense or if there should be any additions.

I will be working on the powerpoint tomorrow night, so let me know if we need to make any last minute changes to any use cases or diagrams.

-MM

I still think we will want to make the flow for the admin a lot more simplified. I uploaded a quick mock up to the main area. It should cover all the requirements.

Also I didn't see the Actor table. I may just be blind
-JA

I just uploaded the Actor Dicornaty again. I thought I upload it but maybe I forgot to hit the commit buttion.
I am working right now on combainging your mock up with my drawring to make it alot more simlified. I will try to have it posted by 6pm tonight.
-CJ

Actor Dictionary looks Good.  Nice touch with the shading.
-JA

I just updated the admin diagram. I based the manage sales associate on the example he had on blackboard.
-CJ

I just started the Powerpoint for our presentation tomorrow, so I must ask; any last minute changes needed to any diagrams or should we go ahead with our current material?

I was also thinking that we can present our own activity diagrams, which makes it easier to answer any possible questions that may arise.

The way the Powerpoint will be laid out is by the ID of each use case, so here is the flow of the of the presentation
1. Title Page
2. Project Use Case Diagram
3. Actor Dictionary
4. Use Case #1 - Create Quote Specifications
5. Use Case #1 - Create Quote Activity diagram
6. Project Use Case Diagram
7. Use Case #2 - Sanction Quote Specifications
8. Use Case #2 - Sanction Quote Activity Diagram
9. Project Use Case Diagram
10. Use Case #3 - Quote to PO Specifications
11. Use Case #3 - Quote to PO Activity Diagram
12. Project Use Case Diagram
13. Use Case #4 - Admin Specifications
14. Use Case #4 - Admin Activity Diagram
15. Thank you / Q&A

I should have the presentation done in a few hours at most. I will upload it to our repository for you guys to review. It will be pretty straightforward and limited on graphics (due to all of the diagrams).

-MM

Hey guys,

The presentation is completed, you can find the files in "Use Case Presentation" folder. There is the raw powerpoint file, as well as a pdf file (for John since he is running Linux.) Please let me know if all of the information is correct by tomorrow morning, so if any changes need to happen, that I will see them in time. I would suggest having any last minute changes being posted by 10 am tomorrow (7/12/17) this will give me enough time to make the changes, as well as my commute to school.

Also, please delete any old files that are not being used at this time. I looked at the timestamps for all of the files that are in the presentation and used the most recent ones. This will make doing our revisions much easier after our presentation is given, and as we add more files to our project moving forward.

Quick tip: if you make a folder on your machine, you can drag and drop the folder into the repository using the upload file feature (works for me in Firefox on Windows 10). This also works to overwrite existing files in folders. For example, if you make changes to one file in a folder, you can just drag and drop the folder into the repository and it will update the files within.

Have a great night,

-MM

Hey guys,

Good job today with the presentation. He was kind of brutal on the feedback and commentary, but at least weren't told to stop and sit down (yikes!)

I went through and updated all of my use cases and diagrams. If you guys could take a look at them and provide feedback, I would appreciate it. One thing that I had taken away from today; less is better. So I literally took all of his suggestions, his suggestions for other groups and applied that to my latest revisions.

I used "The Clerk" as an actor for the Sanction a Quote and Quote to PO Use Cases since we had missed that one on our main use case.

I also uploaded PDF files of the use case specifications for John since he had offered to print out the hard copies.

Other than that, I will keep checking back to see if you guys have responded or uploaded new files to check them out. I did want you to know that I will be out of town this weekend and without internet. However, if you guys do need to get ahold of me, just email me, z1760164@students.niu.edu and I will get back to you.

Thanks again for all of the hard work, I am sure things in class will only become more interesting!

-MM

Just looked over the two diagrams.

I would say "Sanction a Quote" look all good.

On the "Quote to PO" I think the first part looks good, but I think we need a bit more for after the processing system part. If you look at the problem statement the only thing the processing system does is return a processing date and sales commission rate. So our system need to take that info and compute the commission, update the accumulated commission and send off the email.

Both spec sheets look good. Do we want to have the preconditions. 
 Pre-condition
▪ state of the system before use case starts
▪ optional

Technically we can start the cases even if there are no finialized or sanctioed quote availible.  It would just show a blank screen.
-JA

Use case diagram is fixed. Made some changes to the create quote files so go ahead and check those out.
-JA

On the Quote to Purchase Order:
The Use case diagram calls it "create purchase order" and the spec sheet calls it
"Quote to Purchase Order". I don't care which one we change but they do have to match.
-JA

John,

Thanks for pointing that out! I will fix that when I get home from work tonight. I will keep it in line with the use case diagram and name it "create purchase order."

As far as the preconditions are concerned, I agree with you that we could leave them blank, because as you stated, if there are no finalized or sanctioned quotes, the returned list would be blank.

With the "create a purchase order" what I could do is just add one more step where "The system computes and stores to accumlated commission and sends email to customer." Again, after yesterday, it seems like less is more for the steps/activities in the use cases. Even though there was no good example to follow yesterday, he said that this should be minimal (about 5 or 6 steps) to complete this activity. So I just want to make sure that it gets setup right.

What do you think about that additional step? Any change to the wordage?

Thanks,

-MM

yeah we want to be general but we also need to cover what it states in the problem statement. I would set it up like this
after "The Clerk applies final disconts and commits"
"System sends PO to PO system"
have the branch for unavailable
for the available branch
"PO system sends proccessing date and sales commission rate to the sytem"
"The system computes the commission and saves it the the quote and the sales associate's accumulated commission"
"The system send an email to the customer with all purchase details including the processing date"

That covers everything in the third interface without locking doing it a certain way.
-JA

John,

I just saw your message after I had uploaded the files. I actually broke down those two steps into one. It puts that activity at nine steps I believe. I tried to keep the verbage as close as I could to the problem statement. The specifications were also updated as well, however; I didn't change the folder or file names, but everything is now matching.

-MM

I would probably change
"The System retrives information calculates the commision stores to accumlated commissions and emails purchase order details to the customer"
to 
"The System calculates the commision and stores it to sales associate accumlated commissions and the quote. Then emails purchase order details to the customer"

just cause it sound a little rough at the "the commision stores to accumlated commissions" part.
-JA

I have updated the Actor Dictionary to have the clerk and to make the descriptions simpler. Do you think the descriptions are the right length?
I have also updated the Admin diagram. I added the options for what employ information and how they can search as he requested it in class. 
I tried to figure out what would be the best way to work it as it makes the box really big. Let me know if you have any ideas on how I can make it look cleaner?
-CJ

Actor list:
Sales associate: once they are logged in they can only create and work on new quotes
per the use case/problem statement. Also I think we should mention that they access
it through the internet

Others look good.

should make sure capital leters match the uml diagram in all files

Administer System activity diagram:
under the Quote side:
you have system displays a list of search options
admin enters search criteria("Admin choose search criteria")
system displays search option("System prompts for search value")
admin enters in search option("Admin entes search value")
(system displays quotes matching search)
(Admin picks a quote)
(System displays a quote)

under sales associate side:
spelling on delete in system shows choices
under edit and delete
System should prompte for search value before Admin can enter it.
In a couple places it says system prompts for conformation to delete or update but
it then goes straight to system acknowledges updates.
If we have a prompt we need a choice after or we can change it to "Admin submits updatae"
and "Admin submits delete"

On the spec sheet you have a postcondition of an update record. What about when you view a quote?
-JA

I have updated the verbiage on the Actor Dictionary and the admin system.
-CJ
I'm going to be gone most the day so I am going to go ahead and print out the files now. I will check again at 10 tonight for any final changes and print them at that time.
-JA

I was just looking at your printed files folder and the image called "Sanction a Quote Diagram.jpg" is opening up the admin diagram. I was just making sure that the correct one gets printed.
-CJ

Thanks for catching that.  All fixed. 
-JA
 So the printed files folder has the current models that were turned in.

I have added version 1 for the admin classe diagram. I left the entity for the quote table empty as I want to make sure I have the same items in my table as yours.
If everyone has things in by tomorrow at 8:30pm I can combine them and put something together for the presentation for Wednesday.
-CJ

I added the diagrams for the Sanction Quote and Create Purchase Order in the Classes Diagrams folder. The main GUI portions are complete, however; I wasn't sure what John has yet, so I just kind of winged it for the controller and gateway on the sanctioned quote part of the class diagram. This is the first run so let me know what changes you guys see fit.
-MM

I've got the create quote classes added. It contains the quote entity and line entity. Add any aditional attributes you need for yours.  I'll look closer tomorrow.
-JA

I know we are super pressed for time. Are you going to be able to make up a power point for Wednesday and if so when do you need the final copy by.
-

I was wondering the same thing, are you making the PowerPoint CJ?
-MM

At least it should be shorter this time.
You'll have the one main page that has all the classes and then just a page for each class that has any descriptions on it.
-JA

A couple ? on the saction and po classes. You have 2 private function add and edit secret notes. What member fucntion is used to call those? Also in the manage quote controller there is an updatequote do you want the controller to have access to the database or should that call a fuction in quote gateway?
Finally on the PO side I don't see any fuctions communicating with the quotegateway.


Sorry for the delay in response I had a busy day at work and now my internet is out at home so I am typing this on my phone. 
I can combine it and make the PowerPoint if everyone has things done by 8:30 tonight or another option due to timing is we could just use the HTNL output. He never said it had to be in a PowerPoint.
-CJ

That works. Make any needed correction that you feel it needs and put it together.
Yeah it doesn't need to be power point but i think it looks better then using the projector.
-JA

I just looked at the HTML docs and I think that will work fine for tomorrow. From Index it shows the classes diagram and then if needed it can go into each individual class. See what Mitch says, but I think that will be the way to go.
-JA

John,

As far as your questions go, I wasn't sure as to where to go with the quotes since I did those before you had uploaded your files. So I was just taking a guess at it. As far as the add/edit on the secret notes, you're right, those should be public functions. Since the Sanction Quote only resides within the quote system, there really isn't much it communicates with, other than the quote database itself. I tried to lay that out with the diagram, again, before seeing how your quote system interfaces with the quote database. 

As far as the PO's are concerned, I had setup my diagrams to be part of the larger whole (the entire system) as I was basing my diagrams off of the Payroll example the professor provided us. In his example, the class diagram is the entire system or Use Case if you will. So essentially, the PO classes will communicate with the Quote database, where they could technically use the same controller and gateway back into the quote database. The PO system also interfaces with the Processing system to get the processing date and commission rate, which is diagramed out.

I agree with using the HTML docs. It's a much easier way to present the information than tossing it into a PowerPoint. Throw it on a flash drive since the workstation in the classroom allows USB drives.

I'll take a look at what you guys have now that I am home, and fix a couple of the small issues on my diagrams, and report back.
-MM

New class diagrams have been uploaded. They are in the Classes folder. Let me know what you think of the changes. All classes are also documented in the .mdj files.
-MM

I have added the class Diagram. Let me know by tomorrow at noon if there are any changes you want me to make before I export it to HTML and save it to a jump drive.
-CJ

On the sales associate entity they should be attributes since that will be the database information.
Also go ahead and remove the : from in front of some of the classes.  It's not needed there.
On the quote entity you have 2 attributes. Attribute1 and Attribute2. Could we get a more descriptive name for those?
In the QuoteStore we have a addLine() and addLineItem(). I'm guessing those are the same thing.

I went ahead I made the changes and updated the file.

I know it is probably to late to change for today but for the hard copy. The entity LineItem will need a foreign key into
the quote table.
-JA

I went ahead and set up the tables on my database.  Login info is user z981329 password 1979Jul29. The are setup just like the class diagrams. All the capitalization is the same except SAid is saId, lineID is lineId, and QuoteID is quoteId so they match the other naming conventions

I have made the changes below to the class diagram. I will submit it to the TA Sunday night unless I hear otherwise from you.
-Changed the ID names to what is in the database
-Added salesAssociate in the Quote table. I also updated the database.
-I put "sendEmail" in ManagePurchaseOrder. Is that how we decided we wanted to do it?
-I put “setSalesCommission” (Do you think we need this or we could say the creatPurchaseOrder is also doing it?) under the MnageOurchaseOrder and put “updateCommission” under STstore. Then I made a connecting line.
--CJ

All looks good. I know we were talking about how to handle the status of the quote. Right now there were 2 ways:
The current one with a bool for each which will get turned on and off as the quote passes to the next stage.
or
A string with the word "Finalized","Sanctioned", or "PO" in it.
It doesn't really affect the create quote section of the system so it is more how you and Mitch want to do it.

My vote is on the bools. I think they will use up less memory and the code looks nicer. if(isFinialized) vs if(status=="Finialized")

May need to change the caps on the admin GUI. All the other classes are lower case first word and Upper case on the rest while admin is upper upper.

I agree. The bools are much easier to work with.
-MM

I don't think i need a addLine() operation in the CreateQuoteController.  The addLine() in the interface will make the lines in the interface and then everything will get passes with the finalizeQuote().
-JA

I was wondering is STstore so post to be SAstore?
-JA

I see you put a couple names into the SalesAssociate. I went and added mine. I did notice that on the password field that you 
used the regular text. When I made the table I set the size the handle SHA-256 encription so that way the passwords can't be read. for mysql the command is SHA2("pass",256)
-JA

So each of the classes have a short discription. Are there any operations that any of you feel need there own discriptions. I feel tha names are descriptive enough but I'm not sure if the TA would want more discriptions.
-JA

I have changed the caps on the admin GUI and have removed the addLine(). I have also added SHA2 to the admin interface. 
I was also looking at the STstore today thinking it looked weird I have updated it to be SAstore.
-CJ

Need to add a "getCustomerNames()" to te CreateQuoteController and LegacyDatabaseInterface. it gets all the names while getCustomerInfo() get the info for one individual customer.
Thanks
-JA

Also addLine() is not needed in the SalesAssociateInterface or CreateQuoteController class
-JA

And no createQuote() in the QuoteStore because the store database doesn't need to be accessed until the finalized button is used so the quote will get created and finalized at the same time
-JA

also add customerCity to Quote entity
-JA

So the create quote page is functional and there is a quote with 3 line items in the database for you to work with Mitch. Also
get with Conrad about getting your login created. I still need to doc it,add some error checking, and maybe make it look pretty.
I'm also thinking about move more stuff from the page to inside the class. There are a few Null items in the database. If those cause issues let me know and I can set defualt values to them when it is created.
-JA

Here is a link to create your login. http://students.cs.niu.edu/~z1792261/CSCI467/creat.php
I have also made the changes to the class diagram that you mentioned above.
I will probably wait until Monday to submit it so we can make sure we can make any more corrections that are needed.
-CJ

looks nice.  May want to add the "required" attribute to each input field so that they can't leave it blank
-JA

If you could move the sendEmail out of SanctionQuoteGUI and CreatePurchaseOrderGUI and put them into their controllers. I have the code for sending the email done in the controllers. I am working on both controllers right now, which they are basic and I haven't gotten a chance to test them yet (I am currently working.) Speaking of testing, how are we going to go about testing our entire implementation? I was also messing around with PurchaseOrderProcessing code but I am not fimailar with JSON in PHP, so if anyone has any ideas... Sorry about the lack of updates, work has been keeping me super busy. I'll post the controllers when I get home since I am running out of battery on my laptop.
-MM

No problem Mitch. There's still lots of time. On the json thing Ege had the one example
at https://webcourses.niu.edu/bbcswebdav/pid-4740793-dt-content-rid-1621704_1/users/a132436/Bb%20Courses/CSCI%20467/Project/po.html.  It looks like you need to make
a labeled array and then use the json_encode. Once you have the result then you can pull what you need.

As for the final implementation well combin the functions for the shared classes into one file. After that we should
be able to just host all the files in one html folder on hopper.

To make things easier, and quicker, on our class diagram in the controller for ManageQuote change getQuote() to getFinalizedQuote(). In the ManagePurchaseOrder controller change getQuote() to getSanctionedQuote(). Then in the Quote store add both getFinalizedQuote() and getSanctionedQuote() and remove getQuote(). Because we have isFinalized() isSanctioned() as bools in the database, I can list the quotes based on their status in the SanctionQuoteGUI and CreatePurchaseOrderGUI in drop down lists. The functions are smaller doing it this way, as I can add precision to the search, and I can reuse code across both GUIs when displaying the information. I'll post my "work in progress files here shortly. Feel free to check out what I have on the sanction PO page so far: http://students.cs.niu.edu/~z1760164/sanctionQuote.php

-MM

Looking good. I see you've made a couple of quotes yourself. Was everything intuative
enough in the create quote?
There are a couple things with the sanctionQuote. 
I don't see the "sanctionQuoteGUI" class

I see a call to a member fucntion of the QuoteStore class on the main page, but per the
diagam the QuoteStore should be reachable thru the controller

in the class ManageQuote I see a var for a QuoteStore instance. I don't think Ege wants
it done that way. Also need to add a $ in the new statment

The sql statment "SELECT quoteId FROM Quote WHERE isFinalized" will also work if you want

in the sanctionQuote.php you won't need the first while statment because quoteId is a
primary key in the quote table.

To be honest, this project has a much different coding "feel" than what I am used to as far as splitting everything up and using classes/function/drivers and whatnot. I usually write it all straight to the point when doing web programming. So it's taken me longer to do this. Right now I am just trying to get things to work. I will worry about the classes and whatnot later since I feel I have a ton to do with both the sanction and P.O. parts. I plan on reusing code that I know works throughout. So any help or edits are much appreciated. I have to leave in a few minutes for a few hours, but I just uploaded new code with some page formatting changes. I will keep working on it when I get back.

p.s. the create quote page was nice and straightforward.

-MM

I was telling my wife the same thing. I would just have the bounday's all talk directly to each other without the controller middle man. I had ask Ege about it and I guess it's to make changes easier.

Updated files in the "Mitch Source Work In Progress" folder. I went ahead and made a function called displayQuote() in the SanctionQuoteGUI class that I will also be using for the CreatePurchaseOrderGUI class, so we will need to add that to our class diagrams. This will work in conjunction with the getFinalizedQuote() and getSanctionedQuote() functions I have suggested instead of getQuote(). John, thank you for the suggestions, and I added your addLine() function to my sanctionQuote driver but have not implemented yet since I have to write a ton of other functions for edit,delete and the discounts. I am calling it a night. You can check out the new implementation thats up and running here: http://students.cs.niu.edu/~z1760164/sanctionQuote.php

-MM

Looks to be coming together well. In the addLine function I ended up haveing to add <br> element to each of the input elements because on a wider screen size it was able to fit 2 side by side.
-JA

I'm still not sure about having the AllnOne for the PurchaseOrderProcessing in the 
class diagram. We arn't going to have a class called "PurchaseOrderProcessing". 
The PurchaseOrderGateway will comunicate with outside system. It's simialer to the 
LegacyDatabase. So if we keep the AllnOne on the Purchase Order then I think we should
add one for the LegacyDatabase aswell
-JA

I was thinking with your line items on the sanctionquote page. If you displayed them as input text elements with what is in the database
as the initual value that would cover the edit part for you.
-JA

I went ahead and made the changes to the class diagram that you talked about MM. I wasn't sure what kind of free time CJ today. If
everyone can take a look over it and make sure the classes are the way you like them because after this point if the class/function is
is in that diagram it will have to be in the code.
Now from my understanding if it isn't in the class diagram it can still be in the source.
What time were you thinking you were going to mail the docs off?

I will see what I can do about the line items on the sanction quote page. I will be spending most of the day working on the
other functions that need to be implemented in the sanction quote. I am going to try to keep them in a way that
can be used (with minor changes) in the Create PO page. With that being said, if someone would like to try to code the
the interface and controller to the purchasing system, that would help out a lot. After today, my time is going to be
limited due to work, as Wednesday and next Sunday will be the only times that I have a large block of time to sit down
and keep working on this. I am hoping today that I can make some good head-way, as the main part of displaying the quote
is done, with minor changes of course. It took a lot longer since we are coding this in a way that I haven't done in web
programming before. However, I still need to write the updateQuote() class that will be used for both controllers.

As far as the "AllnOne" I just called it that because it seemed like a "catch-all" based off his example that he had provided to
us. Feel free to call it however you see fit.

I will upload files as I move along. Thats if GitHub cooperates, as it seems to be running odd today.

-MM

***NOTES ON UPDATED CLASS DIAGRAM*** !!EDIT!!
-change sendEmail() to emailPurchaseOrder in the ManagePurchaseOrder and remove from CreatePurchaseOrderGUI
-add emailSanctionedQuote() to the ManageQuote controller and remove from SanctionQuoteGUI
-add to getFinalizedQuote() and getSanctionedQuote() to the QuoteStore. You could change the quoteSanctioned() to
getSanctionedQuote()

That should do it for me. -- Sorry to make the last minute changes, I realized this as I opened up my code.

-MM

Let’s see if this lets me post it this time. I have been trying to post for the last hour and it errors out.
I have one change that I am going to make in the adminGUI just so it is more explanatory.
If it is true that if something is not in the class diagram but we can put it in the source code then we won’t have to worry as bad as I was trying to make sure I did not forget any. 
I will try to post what I have so far tonight for source code if github allows me to.
I was thinking about turning in the class diagram around 8pm tonight.
-CJ

I've got some free time tonight so I'll get started on the PurchasingOrderGateway
-JA

PurchasingOrderGateway is in your folder and funtional. I have to add the cust ID to the quote database because it is needed by
the processing system.  I'll get the diagram done first then change the database and the create quote source code.

Database and create quote now have the custId which is needed by the purchaseordersystem
-Ja

Once your done testing the add line item make sure you go to the LineItem database and
ether delete the ones with a quoteId of 0 or assign them to a valid quote.
-JA

Last call for any changes on the class diagrams. I have made my change and will submit it soon unless I hear otherwise.
-CJ

The HTML docs you uploaded do not match the diagram that are on github
-JA
The mdj file is good. I would just remove the html folder and then do a fresh export.
-JA

Thanks for catching it. For some reason, not all the files uploaded to github. I have reuploaded it and will send it in a few minutes. I will cc you when I send it.
-CJ

Yeah through the web interface you can only send 100 files at a time. The html file are over that.  If you do each individual
folder at a time you should be fine.
-JA

I just uploded it as a zip folder and it worked. Sending email now.
-CJ

Well I feel I have gotten absolutely nothing done today. Between a bunch of interuptions at home, code errors, and things not
working, I am calling it a night. I have been working on is the addLineItem and it's still not working. I went ahead and got rid
of my addLineItems function code in quotestore and put it in line in the code, with code that from a prior project that works,
and it's still not posting to the quote DB. So needless to say, I'm frustrated and tired.

Take a look at what I have uploded (sanction quote GUI) and see if you can find where its not working. Again, its inline in the
code for testing and not running from the quote store right now(I emptied out that function, so I could trace my error)
http://students.cs.niu.edu/~z1760164/sanctionQuote.php

-MM

Morning Mitch. One thing that may help is how you are thinking of the secert note. The way the class diagraim and the database
are setup are by having the option to add a secert note to each description. From what I've seen from your implitation I feel you
are treating the secert note as a seperate entity that can be added at the end. Which is a plauseable way but at the time being
our database isn't designed like that.

It looks like at some point you did get it to work. This is from the LneItem database.
|     35 |      15 | New Quote            |  50000.00 | Note1            |
|     36 |      15 | Testing custId in DB |    200.00 | Note2            |
|     37 |      13 | ashghghghhghg        | 494949.00 | NULL             |
|     38 |      13 | hahaha               |  68787.00 | NULL             |
+--------+---------+----------------------+-----------+------------------+
lines 37 and 38 were added by you to quote 13.

Feel free to call to if it will be easier to comunicate that way. Tuesdays and Thursday I'm free any time after 12:00

GL
-JA

In your current inline you have 
                if (isset($_POST["addLineItems"]))
                {
                    $addLine = "INSERT INTO LineItem (quoteId, description, price) VALUES ('$_SESSION[quoteId]', '$_POST[description]', '$_POST[price]');";
                }
                echo $_SESSION["quoteId"];

You set up the query but your missing "$db->exec($addLine);"

Morning CJ. I was looking over the GUI and it works, but I'm not sure if it is what they are looking for. From my understanding
the iterface should be a class whith each of those pages as a member function.
-JA

John,

With the secret note, we have the function addSecretNote() [which is just an INSERT statement] and then editSecretNote() [an
UPDATE statement]. Since we have those listed as separte functions I figure with the addLineLitems() function, it will only
INSERT an item and it's price. In the DB, lines 37 & 38 were added by me while in Hopper to test my INSERT statement with using
the quoteId, which did not come from the webpage. At one point yesterday, I did have it working (somewhat), but you will notice
that the quoteId's came up as 0. To test that the $_SESSION variable is holding the quoteId, i use an echo statement that prints
out the quoteId next to "reset" button.

I ended up staying home from work today cause I am not feeling well, which works out that I can work on this with a fresh set of
eyes, a rested brain, and an upset stomach.

-MM

I'm fine having lines with just notes. I will make changes to the create quote to allow it because of right now it only
Adds lines with discriprion

If you look at the example that he provides on blackboard he splits them up into separate files. 
I had them in one file but it was just getting long and I thought it might be less confusing if I split them up. If needed I can copy them back to the one file.
https://webcourses.niu.edu/webapps/cmsmain/webui/users/a132436/Bb%20Courses/CSCI%20467/Payroll%20Example%20Project/Payroll?action=frameset&subaction=view&pid=pid-4740813-dt-content-rid-28680998_1
-CJ

Nope that is perfect then. I did notice looking at his that he put the connectection funtion inside each class that made a connection to a database. Do we want to do that with ours?
-JA

I have the addLineItem kind of working, along with the editLineItem. However, the addLineItem isn't recording the quoteId
POST or SESSION variable in the statement, yet it records everything else. In the DB it shows up with a quoteId of 0.
I have been trying to figure this out for quite awhile and still no avail. The editLineItem isn't working yet, so if you see
anything suspect let me know.
I'm going to step out for a few. If you guys want to take a look, its uploaded in my source work folder, and the SQL statements
are in my quoteStore. I am probably missing something obvious, hahaha. I'm going to work on the remove function when I get back
and hopefully get the other two working the right way.

-MM

I've got the Add line working. I get it posted here is a separte file for you in a sec.
-JA

Your item ID in the edit function.  Are you limiting it to only Id's that are attached to the quote? I probably could look but
I figure asking is faster
-JA

I'll have to check out the file. Thank you! What was it? And you are correct, I have the item id's display when the quote
displays. I figure with having an id input, it reduces code and is a quick way to change it. I had it with drop downs eariler,
but having the text boxes made more sense and looks better.

-MM

When you look at you see I took your first function and split it in half that way the $_SESSION[quoteId] was only getting set once. Also in the $quoteAddLine it wasn't getting passed any variables.

A drop down would provent them from entering any invalid values for the lineId.  What do you do if they choose a line that isn't attached to the quote?
-JA

John, thanks for pointing that out. Once you said it, I realized it about the parms hahaha. I also took your suggestion too
about the drop downs. I also added IS NULL and IS NOT NULL to the sql statements on the secret notes. Without them, the add and
edit pretty much did the same thing. So now, you can only add a secret note if the line item doesn't have one, and only edit
ones that have notes that already exist. The add line item works (thanks again John), edit line, remove item, add secret note
and edit secret note are also working. I also made some changes in what displays in the drop down boxes, primarily for the
quote selection. Now it will display the customer name instead of the quote ID. The item descriptions are also displayed
instead of the line item ids. It makes it much easier to navigate, but if you guys prefer the id's instead, its a quick change.
I also uploaded the working files to my source folder if you want to check it out so far.

Feel free to mess around with the gui and let me know what you think: http://students.cs.niu.edu/~z1760164/sanctionQuote.php

Now whats left for the sanction quote gui is marking the quote as sanctioned, and possibly the harder part of this page,
getting the prices to calcualte the final price and the two different discount modes (amount/percentage) from the values
stored in the database. So if you guys have any suggestions on ways we could do this, i am totally open. But I figure once
the sanction quote gui is finished, alot of the code can be reused/quickly modified in the create purchase order gui.

See you guys tomorrow,

-MM
When you set the isSanctioned to 1 also set the isFinalized to 0.
For the discount field i would jist do two separate input feilds. If the percentage one is filled in treeat it like a percent
or if the straight dollar one is in do a dollar value. You can do a select sum(price) for the total. Do the math and save
it in the final price. Then if they fill in both display an error messages.
-JA

With the Edit line.  Say I just need to change the desript. If I do that it zero's out the price so that needs to get looked at.
Ether have it set the values in the input field default to the the current ones or if it is "" don't update the value.

Also maybe of the first screen have both the quoteID and CustomerName just because you my have mutiple quotes for one customer 
but the ID will alway be unique

I'm not able to add Secret Notes to line items created by the create quote system because those arn't NULL.  I would have it
check for "" and change the table to be not null and then it will defualt to "" for you. 

What if they want to add just a Secert Note, but not have it attached to any of the current descriptions. 

Finally I would have it return to the viewQuote screen. More then likly they will be doing mutiple things to a quote and they 
would not like having to reselect the same quote over and over again.
-JA

I'll see what I can do.

-MM

***Few Notes***
-The edit line items has been changed and works

-With adding secret notes, I tried it, however; it creates a new line litem with NULL values in both the
price and description. What I can do is remove the line item id's from displaying (which I put them in there for testing)
and the notes will just appear in te secret notes column. But now, when you want to edit a note, you will have a bunch of
blank entries in the dropdown. One way that I would see this making sense is if I leave the lineId on the screen, and have
them appear next to the item description in the drop down, but even then, thats clunky. How I had it originally setup was that
you could only edit secret notes with items that already had them. This also included items from the create quote that didn't
have any secret notes because when the quote is created, the value in the secret note field wasn't set to null. When
you add a line item on the sanction quote page, the value is null, which allows the add secret note to work on items that
don't have a note. To me, that made more sense to do it that way. I understand about having just a note, but then it eats
up a lineitem id in the database because you can only insert based on the quoteid not the itemid since thats the primary key.
Again, i think if we keep it the way that its set up, its eaiser to manage, and saves space in the db.

- with the return to the sanction quote screen. I have been fighting that since I started, and I haven't found a good way
for it to reload after changes are made. I believe this is due to having in a post method where the quote id is the main
choice that runs the page. I could do it using get, but as we know, we are not supposed to use get. Which makes sense for sql
injection and whatnot. I had a javascript statement in there early on, but it didn't work the way I wanted it to so I canned
it. I am not sure if I could use the session variable of the quoteid to pass in the view quote function on the sanction quote
page to reload after it runs through the if statements. I'll mess with it to see if i can get that to work, but if you have any suggestions, or know a good way of doing it, send me the code. After today, my time is going to be limited until sunday cause
of work.

-MM

Uploaded the latest code for the sanction quote. I am going to work on trying to get the calcualtions working tonight, along
with marking the quotes as sanctioned.

-MM

I've started the createPO page.  I've stolen quote 7 and 8 incase you were wondering why they were missing from your page.
-JA

I have the markQuoteSanctioned function working. However, I have been working for awhile trying to catch an error with
fetching the price from db after doing a SUM statement. It shows up as "Array" on the page, and I have been messing with
it for awhile. See what you think about it. I used PDO::fetch_assoc because mysql_fetch_assoc (and array, and rows) were
all throwing errors and are considered depreciated. I have to call it a night, but I'll be back tomorrow night. The calculate
function is below the display functions in the quote store.

-MM

Check your QuoteStore::calculatePrice().  You have a $quoteId in the query but $quoteId is never assigned.
-JA

I would probably change the button "Mark quote as sactioned" to just something like "update" because if you select no it
Doesn't become sactioned.
-JA

Hay Mitch, I'm getting ready to add the final discount for the createPo. When you saction the quote are you saving the discounted price or discount you applied into the database anywhere?
-JA

In the table there is a are three final feilds. I don't think there are necicary. It doesn't say we need to save it. I would just
say have a current price that is updated when you apply your discount. I can even add it to the create quote so you only need to
pull from that when you get it

CreatePO is done.  I will be uploading it shortly. Link is in the source folder
-JA

Ok create Quote now sets the currentprice when it is created so you can use that for your deduction and then when yo saction it
update the current price. I removed all quote with a current price so if you need more quotes you'll have to create them.
-JA

The create quote and create PO functions have been added to final sourcer files.
-JA

I am still fighting displaying the total price from the DB. At least now it returns a value of zero. However, I am not sure
why it isn't pulling down the value. I went ahead and made the where clause to match the session variable as I am trying
to track down what is going on. Would you want to take a look at it and see if you can find anything? I also made the
markQuoteSanction into updateQuote. So the markQuoteSanction will not be used. I'm going to step away for a few and keep
trying to figure out why the value doesn't show.

-MM

in your function
        public function calculatePrice($quoteStore)
        {
            $quoteTotal = $quoteStore->calculatePrice($totalPrice);
            echo "<br><b>Total Price: </b>$";
            echo $quoteTotal;
        }
you are sending a var $totalPrice to the calculatePrice which doesn't exist.
Like we talk on the phone $rowA[currentPrice] will give you the current total price

then in the quotestore calculatePrice isn't excepting any var

Just a heads up I think all NIU web services are down. I am unable to connect to any NIU hosted website. So no access to hopper.
-CJ

Yep... I was just going to say the same thing. It's been hit or miss for the last hour. I guess I'm calling it a night hahaha.
-MM

I went a head and made some small correction to display the current price in your sanction quote code.
I saw that you had a constructor in the contoller class that links it to the quote store.
You could do the same with the Gui to connect it to the controller. Then you don't
have to create them on the sanctionQuote page.

Another thing I noticed with mine was that since it is all done on one page it was
createing a new instane of all the classes each time there was a POST. To fix it I
added a if(!isset($interface)) before $interface=new SanctionQuoteGUI;
-JA

If either of you have a second to look at my code that would be helpful I am having issues trying to get any variables to pass though for some reason. 
It is probably something simple that I am overlooking. I think it might be something with starting the session but I copied over all the session code from his example to see if I was missing something but it is not working. 
I am off work today so I am working on the program all day.
-CJ
I'm looking at it now. it has to do with your classes.
my object of interface looks like 
object(SalesAssociateInterface)#1 (1) { ["controller"]=> object(CreateQuoteController)#2 (3) { ["SA"]=> object(SAstore)#3 (0) { } ["DBI"]=> object(LegacyDatabaseInterface)#4 (0) { } ["quote"]=> object(QuoteStore)#5 (0) { } } }
yours looks
object(__PHP_Incomplete_Class)#1 (3) { ["__PHP_Incomplete_Class_Name"]=> string(11) "AdminManage" ["Sstore"]=> object(__PHP_Incomplete_Class)#2 (1) { ["__PHP_Incomplete_Class_Name"]=> string(7) "SAstore" } ["Qstore"]=> object(__PHP_Incomplete_Class)#3 (1) { ["__PHP_Incomplete_Class_Name"]=> string(10) "QuoteStore" } } 
I'll see if I can track it down more.

I uploaded what I did under temp
I removed the if(!isset) SESSION doesn't seem to like that
I went for include to require and I moved that all to the first page
the if isset is causeing it not to create properly. it may have something to do with how the $_SESSION value is handled.  I didn't use session in ether of the 2 case I made because everything was on one page
-JA

I have rewritten the admin system to be in one page instead of multiple pages. 
I have part of it working but I am having isues passing queries that have multiple variables (getSA, updateSA, deleteSA). 
If you have any recommendations that would be helpful. I am going to take a break for today as I have been working on rewriting it nonstop since 9am.
-CJ
for update you could have something that looks like this or the SA values could be array, or class object.
        public function updateSA($new,$id,$name,$pass,$comm,$add)
        {
            $DB=$this->connect();

            //if a new password
            if($pass!="")
            {
                //hash it
                $pass=hash("sha256",$pass);

                //if it's not new SA
                //update the current
                if(!$new)
                {
                    $into="update SalesAssociate set password='$pass; where saId='$id'"; 
                    $DB->query($into);
                }
            }
            //if it is new it is an insert
            //else it will be an update
            if($new)
                $into="insert into SalesAssociate(name,password,commission,address) values('$name','$pass','$comm','$add')";
            else
                $into="update SalesAssociate set name='$name',commission=$comm,address='$add' where saId='$id'";

            return $DB->query($into);
        }

Just took a quick looked over all the class and it looks like you got a good chunk of it.
-JA
in admin.php you have 
$interface->updateSA($_POST[name],$_POST[password],$_POST[address],$_POST[commission],$_POST[saId])
but in the GUI you have 
public function updateSA($saId,$name,$password,$address,$commission)
and all other are the same after that.


John,
I am still confused about how to pass multiple variables. I have been trying to look at your project to find an example on how to do it but I can’t get it working. 
Do you mind correcting one of them so I have something to base it off and see what I did wrong? I am just not having any luck trying. 
Thanks,
CJ
 Also does anyone know of an SQL query for a date range. This is how it says to do it online but it returns no records.
select * from Quote where processingDate between "2017/9/4" and "2017/10/4";
CJ

for your date range you can use:
select * from Quote where isPO and STR_TO_DATE(processingDate,'%Y/%m/%d') > STR_TO_DATE('2017/9/15','%Y/%m/%d') and STR_TO_DATE(processingDate,'%Y/%m/%d') < STR_TO_DATE('2017/10/15','%Y/%m/%d');

and if you want it in order you can add
order by STR_TO_DATE(processingDate,'%Y/%m/%d')

Sorry I was absent all day yesterday, it was a very long and very busy day. A fully function SanctionQuotePage has been uploaded
to my source folder. I am going to work on keeping the page displayed when changes are made instead of having to keep reloading
it. I believe I can do this by changing the post method to get. We'll see how it goes.

A quick question, I know that the Prof said that the email functionality on Hopper doesn't work, and he said that we could
just display a message that an email is sent. What do you think about putting in javascript alert messages when the final submit
button (sanction a quote/create PO) is clicked? If you guys have a different suggestion let me know. I figure this would be
a quick and easy way to say that an email was sent even though its just a dummy message.

-MM

I just went and had display "Email sent" on last page of the createPO. If you want to add an onClick function that is fine aswell.

When you go back turn on the $interface-> calls from the main driver page you can move the instance of each class into the class
that knows that class that way you don't have to do all that extra passing. 
so 
        $quoteStore = new QuoteStore;
        $controller = new ManageQuote;
will get moved from the main driver program
the controller will get put into the interface class and the quotestore into the ManageQuote. Then make the constructor for the
interface and controller class.

Just learned something super nice that will make stuff alot easier. We don't have to pass the $_POST variables through all of the functions. They can be accessed from the end function without being passed

Just an update on the admin system. The View quotes is almost complete minus when you view a quote I having issues showing the main quote information (QuoteID, Name...) but I am able to get line item rows to display.  
I looked at it for a while and could not figure out why so I took a break on it. 
I also have not yet tried the date search but all the other searches are working.
On the mange side, everything is done minus submit update (same function for create and edit).
I am going to work on it for another hour then I will take a break until tomorrow around noon. I will reupload the changes I have done when I am done for today.

Admin system is all done minus the submit on the edit user. Submit on new user is working.  I will fix the edit user tomorrow midafternoon. Let me know if you find anything I should change.
-CJ

I still havent found goo a way to redisplay the page after making an edit. It has to do with the buttons being submit buttons.
I have tried all sorts of things but nothing has worked out right. This has included changing them to buttons and passing
the functions with onclick (which results in error.. but it seems to be the best way at this point). Tried some AJAX but
that led to nowhere. Thought about creating a modal but that could take a bit of time. Changing things to GET also
created a mess. I am going to keep working with the button on click as that seems to be the best solution for how the page
is laid out. I have also though about splitting the pages up, but that could get really ugly (and a ton of files.)

Any ideas?

-MM
I will look at yours and see if I can see anything. I worked on my own verson today and just uploaded it so you could look at it. Maybe something in there will help
-JA

Good morning. As the cases finish up add your files to the source folder. Your driver, gui and controller are only used by
you and can be uploaded freely.  The three database interfaces are shared between cases so when those are updated make sure
we are only adding to them and that we are not repeating functionality.

Just wanted to touch base with everyone. I'm hopping we can get the final cases finished up today and have all the sources posted
by 8PM tonight. That way there is time to make sure there is no negetive interactions between cases once they are in the same 
folder

Hay CJ on the Sales associate side did you want to and a view option to it.
Also at "Sales Associate Updated\" there is that \ at the end

Tnanks for the remined on the Sales associate view. I forgot all about it. I will also take the "\" out. I have uploaded my files to the source folder and will upodate the sections that need to be udpated when view is done.
-CJ

Just finished going through the SA and everything looks nice and is work well.
-JA

I havn't finished going through the quote yet, but from what I have seen it looks good. Daughter wants to go out and practice
driving so I'll check more after that.

One thing we may want to add is on the Ordered quotes is the order number. We needed a unique order number. To make it I took the
quoteId-custId-SAId and made a string of it. 
Back in a bit
-JA

I just looked at the admin activity diagram and we have edit/View in the same window. 
What do you think about if I just change the name from edit to view/edit and on the edit page I put a continue without saving button? 
Also do you think we should show the sales associate ID number on the edit page? 
-CJ
yep that works adding it to the button. Yes I would show the userId but set it as disabled so it can't be changed because the UML diagram says "system displays sales 
associate info (name,user id,password,accumulated commission and address)"

In the deleteSA($name) function of the a SAstore class you have a isCreated=1 inside the if statement,but the isCreate is never initualized before hand. Also isCreated a good name for a delete test variable?

for the date range you may what to have a some type of display so that the user knows the order and format of the date you need
for the input

If you look at the customer name list you'll see some messed up characters. If you want to fix it you can use:
$customerName=iconv("latin1","UTF-8",$row[name]);


I have changed the page to display “View or edit” with the ID number as disabled. I have also set all text fields to required throughout the program.  
I have also updated the $isCreated in the deleatSA.
For the date, I am using a “date” type input instead of a “text” input so on my computer it shows up with an example and calendar. I don’t think it works on Firefox but it does work on Chrome.
For the customer number, I tried to pass it though that but I was not seeing any changes so I remove it again. He said the other class that it was fine if they showed up.
-CJ

Just the reminder on the saction quote page to have to update the current price in the database when you make any changes to the
line items. Also to make sure the driver page only calls to the interface, the interface to the controller and then the 
controller to the quotestore.
-JA
